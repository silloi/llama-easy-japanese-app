"""
やさしい日本語翻訳ツール - 設定ファイル
文化庁「在留支援のためのやさしい日本語ガイドライン」に準拠
"""

# Groq APIデモ用キー（実際の運用では環境変数から取得）
DEMO_API_KEY = "gsk_YOUR_DEMO_KEY_HERE"  # ハッカソン用デモキー

# Groq API設定
MODEL_NAME = "llama-3.1-70b-versatile"
TEMPERATURE = 0.3  # 安定性重視
MAX_TOKENS = 1000

# システムプロンプト（文化庁ガイドライン3ステップに基づく）
SYSTEM_PROMPT = """あなたは「やさしい日本語」の専門家です。
文化庁の「在留支援のためのやさしい日本語ガイドライン」に完全準拠して、
通常の日本語を、CEFR C1-2レベルの外国人にもわかりやすい「やさしい日本語」に翻訳してください。

【重要な変換ステップ】

■ステップ1: 日本人にわかりやすい文章にする
- 情報を整理し、必要な情報だけに絞る
- 一文を短く（20〜30文字程度）に分ける
- 箇条書きや改行を活用して、読みやすくする
- 複雑な文構造を避け、シンプルにする

■ステップ2: 外国人にもわかりやすい文章にする
- 簡単な言葉を使う（漢語より和語を優先）
- 難しい言葉には簡単な言葉を添える
- 二重否定は使わない
- 曖昧な表現を避け、具体的に書く
- 敬語は最小限にする（「です・ます」調で統一）
- カタカナ語は必要最小限にする
- 時制を明確にする

■ステップ3: 確認
- 伝えたい内容が正確に伝わるか確認
- 誤解を招く表現がないか確認
- 文化的背景を前提としない表現か確認

【出力形式】
- 変換後の「やさしい日本語」のみを出力してください
- 説明や前置きは不要です
- 原文の意味を正確に保ちながら、上記ルールに従って変換してください
"""

# 主要ルール（10項目）
GUIDELINE_RULES = """
【やさしい日本語の主要ルール】

1. 一文一義: 一つの文には一つの情報だけを書く
2. 文の長さ: 一文は20〜30文字程度に短くする
3. 箇条書き: 複数の情報は箇条書きにする
4. 簡単な言葉: 漢語より和語を使う（例: 実施→する、開始→始める）
5. 説明を添える: 難しい言葉には簡単な説明を添える
6. 二重否定回避: 「〜ないことはない」などは使わない
7. 具体的表現: 「速やかに」→「すぐに」、「適宜」→「必要なとき」
8. 敬語の簡素化: 「です・ます」調で統一（謙譲語・尊敬語は最小限）
9. カタカナ語注意: なるべく使わない、使う場合は説明を添える
10. 時制の明確化: いつのことか明確にする（「〜した」「〜します」）
"""

# Few-shot Examples（文化庁ガイドラインに基づく実例）
FEW_SHOT_EXAMPLES = [
    {
        "original": "婚姻をするときは、役所に届出をし、届出が受理されると、婚姻が成立します。",
        "yasashii": "結婚するときは、役所に「婚姻届」を出します。\n役所が「婚姻届」を受け取ると、結婚が成立します。"
    },
    {
        "original": "新規の上陸許可を受けて日本に入国した場合、在留カードが交付された方は、住所を定めた日から14日以内に、在留カードをお持ちになってお住まいの市町村において転入の届出をする必要があります。",
        "yasashii": "日本に入国した人で、在留カードをもらった人は、次のことをしてください。\n\n・住む場所を決めた日から14日以内に手続きをします\n・在留カードを持って、住む場所の市役所や区役所に行きます\n・「転入届」を出します"
    },
    {
        "original": "大きな地震が発生するなどした場合、安否の確認、見舞い、問合せなどで電話がつながりにくい状況が起こることがあります。",
        "yasashii": "大きな地震が起きたとき、電話がつながりにくくなることがあります。\nこれは、たくさんの人が電話を使うからです。"
    },
    {
        "original": "発熱や咳などの症状がある場合は、事前に医療機関に電話で相談してから受診してください。マスクを着用し、公共交通機関の利用は控えてください。",
        "yasashii": "熱や咳があるときは、次のことをしてください。\n\n・まず、病院に電話で相談します\n・それから病院に行きます\n・マスクをつけます\n・バスや電車は使わないでください"
    },
    {
        "original": "会社を退職する際は、少なくとも2週間前までに退職の意思を伝える必要があります。就業規則に別の定めがある場合は、それに従ってください。",
        "yasashii": "会社を辞めるときは、2週間前までに会社に伝えてください。\n会社のルールで違う決まりがあるときは、そのルールに従ってください。"
    },
    {
        "original": "賃貸契約を解約する場合は、契約書に記載された予告期間（通常1〜2ヶ月前）までに、大家さんまたは不動産会社に書面で通知する必要があります。",
        "yasashii": "家を出るときは、次のことをしてください。\n\n・契約書を見て、いつまでに伝えるか確認します（多くの場合、1〜2ヶ月前です）\n・大家さんか不動産会社に、紙に書いて伝えます"
    },
    {
        "original": "本施策の実施に当たっては、関係各所との調整を速やかに行い、適宜必要な措置を講じることとする。",
        "yasashii": "この計画を始めるときは、次のことをします。\n\n・関係する人たちと、すぐに相談します\n・必要なときに、必要なことをします"
    },
    {
        "original": "ご不明な点がございましたら、遠慮なくお問い合わせください。",
        "yasashii": "わからないことがあったら、質問してください。"
    },
    {
        "original": "当該書類の提出期限は厳守していただきますようお願い申し上げます。",
        "yasashii": "書類は、期限までに必ず出してください。"
    },
    {
        "original": "災害時においては、近隣住民との相互扶助が重要となりますので、日頃からコミュニケーションを図るよう心がけてください。",
        "yasashii": "災害が起きたときは、近くに住んでいる人と助け合うことが大切です。\nいつもから、近くの人と話すようにしてください。"
    }
]

# サンプルテキスト（UI用）
SAMPLE_TEXTS = {
    "行政": "新規の上陸許可を受けて日本に入国した場合、在留カードが交付された方は、住所を定めた日から14日以内に、在留カードをお持ちになってお住まいの市町村において転入の届出をする必要があります。",

    "医療": "発熱や咳などの症状がある場合は、事前に医療機関に電話で相談してから受診してください。マスクを着用し、公共交通機関の利用は控えてください。",

    "防災": "大きな地震が発生するなどした場合、安否の確認、見舞い、問合せなどで電話がつながりにくい状況が起こることがあります。",

    "雇用": "会社を退職する際は、少なくとも2週間前までに退職の意思を伝える必要があります。就業規則に別の定めがある場合は、それに従ってください。",

    "住宅": "賃貸契約を解約する場合は、契約書に記載された予告期間（通常1〜2ヶ月前）までに、大家さんまたは不動産会社に書面で通知する必要があります。"
}
